[{"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\index.js":"1","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\reportWebVitals.js":"2","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\search.js":"3","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\sheets.js":"4","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\upload.js":"5","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\download.js":"6","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\table.js":"7","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\addRecord.js":"8","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\editRecord.js":"9","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\deleteRecord.js":"10","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\auth\\userContext.js":"11","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\routerComponent.js":"12","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\auth\\logIn.js":"13","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\home.js":"14"},{"size":555,"mtime":1608029206488,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1606170422435,"results":"17","hashOfConfig":"16"},{"size":881,"mtime":1607854692281,"results":"18","hashOfConfig":"16"},{"size":1041,"mtime":1608026086699,"results":"19","hashOfConfig":"16"},{"size":2131,"mtime":1607610514908,"results":"20","hashOfConfig":"16"},{"size":211,"mtime":1607006651910,"results":"21","hashOfConfig":"16"},{"size":5080,"mtime":1608115012537,"results":"22","hashOfConfig":"16"},{"size":3253,"mtime":1607956490446,"results":"23","hashOfConfig":"16"},{"size":3645,"mtime":1607957634669,"results":"24","hashOfConfig":"16"},{"size":2898,"mtime":1607959524278,"results":"25","hashOfConfig":"16"},{"size":116,"mtime":1608029870775,"results":"26","hashOfConfig":"16"},{"size":692,"mtime":1608111421561,"results":"27","hashOfConfig":"16"},{"size":2821,"mtime":1608111594603,"results":"28","hashOfConfig":"16"},{"size":2561,"mtime":1608114340664,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1lwrrec",{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\index.js",["59"],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\reportWebVitals.js",[],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\search.js",["60"],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\sheets.js",["61","62"],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\upload.js",[],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\download.js",[],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\table.js",["63","64","65","66","67","68"],"import { React, useState, useEffect, useContext } from 'react';\r\nimport ReactAsyncTable from 'react-async-table';\r\nimport axios from 'axios'\r\nimport SweetAlert from 'sweetalert2';\r\nimport editAlert from './editRecord'\r\nimport deleteRecord from './deleteRecord'\r\nimport { UserContext } from './auth/userContext'\r\n\r\n\r\n\r\nconst Table = (props) => {\r\n    //hooks for table\r\n    const { user, Setuser } = useContext(UserContext) //contexr\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    //for data\r\n    const [dataFromSvr, setData] = useState([])\r\n    const [columns, setcolumns] = useState([])\r\n    const [filteredItems, setFilteredItems] = useState([])\r\n    const [editTrigger, seteditTrigger] = useState(0)\r\n    //network\r\n    const dataFetch = async () => {\r\n        setLoading(true)\r\n        axios({\r\n            method: \"POST\",\r\n            url: \"http://localhost:5000/fetchColumn\",\r\n            headers: {\r\n                \"Access-Control-Allow-Origin\": \"*\",\r\n            },\r\n            data: {\r\n                sheet: props.sheetToImport,\r\n            }\r\n        }).catch((err) => {\r\n            return SweetAlert.fire({\r\n                title: \"Ooops\",\r\n                text: \"unexpected error occurred while loading your table \\n please check your network connection \",\r\n                icon: 'error',\r\n\r\n            })\r\n        })\r\n            .then((res) => {\r\n                if (res.data !== undefined) {\r\n                    if (res.data.length !== 0) {\r\n                        console.log(res.data)\r\n                        setData(res.data)\r\n                        columnMaker(res.data)\r\n                        setLoading(false)\r\n                    }\r\n                    else {\r\n                        return SweetAlert.fire({\r\n                            title: \"Sorry\",\r\n                            text: \"No data was found\",\r\n                            icon: 'error',\r\n                        })\r\n                    }\r\n\r\n                }\r\n            })\r\n    }\r\n    const columnMaker = async (data2) => {\r\n        let newColumns = []\r\n        let columns = Object.keys(data2[0])\r\n        console.log(columns)\r\n        props.columnNames(columns)\r\n\r\n        for (let i = 0; i < columns.length; i++) {\r\n            newColumns.push({\r\n                'dataField': columns[i],\r\n                'text': columns[i]\r\n            })\r\n        }\r\n        setcolumns(newColumns)\r\n    }\r\n    const loadingMessage = () => {\r\n        return (\r\n            <div className=\"spinner-border \" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n        )\r\n    }\r\n    const filtring = () => {\r\n        if (props.search === '') {\r\n            setFilteredItems(dataFromSvr)\r\n        } else {\r\n            let filtred = dataFromSvr.filter((obj) => {\r\n                var flag = false;\r\n                Object.values(obj).forEach((val) => {\r\n\r\n                    if (String(val).indexOf(props.search) > -1) {\r\n                        flag = true;\r\n                        return;\r\n                    }\r\n                });\r\n                if (flag)\r\n                    return obj;\r\n            });\r\n            setFilteredItems(filtred)\r\n        }\r\n    }\r\n    // other\r\n    useEffect(() => {\r\n        console.log(\"import\")\r\n        dataFetch()\r\n        filtring()\r\n        console.log(dataFromSvr)\r\n    }, [props.sheetToImport])\r\n\r\n    useEffect(() => {\r\n        console.log(\"edycja\");\r\n        filtring()\r\n    }, [editTrigger])\r\n\r\n    useEffect(() => {\r\n        console.log(\"filtorwannie\");\r\n        console.log(filteredItems)\r\n        filtring()\r\n    }, [dataFromSvr])\r\n\r\n    useEffect(() => {\r\n        console.log(\"odświeżanie \");\r\n        filtring()\r\n    }, [props.search])\r\n    return (\r\n        < ReactAsyncTable\r\n            loader={loadingMessage}\r\n            items={filteredItems}\r\n            isLoading={loading}\r\n            keyField=\"id\"\r\n            columns={columns}\r\n            currentPage={0}\r\n            itemsPerPage={0}\r\n            tableHeaderClass='tableHeader'\r\n            tableClass='tableBody'\r\n            totalItems={dataFromSvr.length}\r\n            options={{\r\n                searchBox: false,\r\n                insertButton: false,\r\n                expandable: false,\r\n                actionsColumn: (user.permissions !== 'guest') ? true : false,\r\n                pagination: false\r\n            }\r\n            }\r\n            translations={{\r\n                editAction: 'Edit',\r\n                deleteAction: 'Delete',\r\n            }} z\r\n            onColumnClick={(e) => {\r\n                console.log(e)\r\n            }}\r\n\r\n            onEdit={(e) => {\r\n                console.log(e)\r\n                console.log(dataFromSvr[e])\r\n                editAlert(dataFromSvr[(e - 1)], dataFromSvr, setData, editTrigger, seteditTrigger, props.sheetToImport)\r\n            }\r\n            }\r\n\r\n            onDelete={(e) => {\r\n                deleteRecord((e - 1), dataFromSvr, setData, editTrigger, seteditTrigger, props.sheetToImport)\r\n            }}\r\n        />\r\n    )\r\n}\r\nexport default Table;\r\n","G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\addRecord.js",[],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\editRecord.js",[],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\deleteRecord.js",[],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\auth\\userContext.js",[],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\routerComponent.js",[],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\auth\\logIn.js",["69"],"G:\\Aplikacje\\Praktyki\\projekt\\front\\src\\components\\home.js",[],{"ruleId":"70","severity":1,"message":"71","line":4,"column":8,"nodeType":"72","messageId":"73","endLine":4,"endColumn":11},{"ruleId":"70","severity":1,"message":"74","line":2,"column":8,"nodeType":"72","messageId":"73","endLine":2,"endColumn":18},{"ruleId":"70","severity":1,"message":"75","line":8,"column":12,"nodeType":"72","messageId":"73","endLine":8,"endColumn":25},{"ruleId":"70","severity":1,"message":"76","line":8,"column":27,"nodeType":"72","messageId":"73","endLine":8,"endColumn":43},{"ruleId":"70","severity":1,"message":"77","line":13,"column":19,"nodeType":"72","messageId":"73","endLine":13,"endColumn":26},{"ruleId":"78","severity":1,"message":"79","line":85,"column":52,"nodeType":"80","messageId":"81","endLine":85,"endColumn":54},{"ruleId":"82","severity":1,"message":"83","line":106,"column":8,"nodeType":"84","endLine":106,"endColumn":29,"suggestions":"85"},{"ruleId":"82","severity":1,"message":"86","line":111,"column":8,"nodeType":"84","endLine":111,"endColumn":21,"suggestions":"87"},{"ruleId":"82","severity":1,"message":"88","line":117,"column":8,"nodeType":"84","endLine":117,"endColumn":21,"suggestions":"89"},{"ruleId":"82","severity":1,"message":"86","line":122,"column":8,"nodeType":"84","endLine":122,"endColumn":22,"suggestions":"90"},{"ruleId":"70","severity":1,"message":"91","line":8,"column":13,"nodeType":"72","messageId":"73","endLine":8,"endColumn":17},"no-unused-vars","'APP' is defined but never used.","Identifier","unusedVar","'SweetAlert' is defined but never used.","'SheetInSelect' is assigned a value but never used.","'setSheetInSelect' is assigned a value but never used.","'Setuser' is assigned a value but never used.","array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dataFetch', 'dataFromSvr', and 'filtring'. Either include them or remove the dependency array.","ArrayExpression",["92"],"React Hook useEffect has a missing dependency: 'filtring'. Either include it or remove the dependency array.",["93"],"React Hook useEffect has missing dependencies: 'filteredItems' and 'filtring'. Either include them or remove the dependency array.",["94"],["95"],"'user' is assigned a value but never used.",{"desc":"96","fix":"97"},{"desc":"98","fix":"99"},{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},"Update the dependencies array to be: [dataFetch, dataFromSvr, filtring, props.sheetToImport]",{"range":"104","text":"105"},"Update the dependencies array to be: [editTrigger, filtring]",{"range":"106","text":"107"},"Update the dependencies array to be: [dataFromSvr, filteredItems, filtring]",{"range":"108","text":"109"},"Update the dependencies array to be: [filtring, props.search]",{"range":"110","text":"111"},[3364,3385],"[dataFetch, dataFromSvr, filtring, props.sheetToImport]",[3472,3485],"[editTrigger, filtring]",[3614,3627],"[dataFromSvr, filteredItems, filtring]",[3720,3734],"[filtring, props.search]"]